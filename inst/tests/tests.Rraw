#naming convention:
#  function.FEATURE/argument.number, e.g.

test = vw:::test

# ***TESTS OF vw***

testDT = data.table(y = c(0.06, 1.88, 1.59, 0.27, 1.99,
                          0.71, 0.06, 0.49, 0.07, -1.84),
                    x1 = c(0.94, 1.74, 0.11, -1.26, 0.46,
                           -0.93, 1.62, -1.28, -0.65, -2.22),
                    x2 = c(0.74, -0.98, 0.44, -0.75, 0.07, 0.02,
                          -0.56, -0.11, -0.95, -1.63))

setDF(testDT)    
test('vw_dt.CHECKDT.1', vw_dt(testDT, y, "x1"), 
     warning = "not a data.table")
setDT(testDT)

test('vw_dt.NO_X.1', vw_dt(testDT, y, character(0)),
     error = 'No independent')

#just testing it works at all
test('vw_dt.SIMPLE_OUTPUT.1', vw_dt(testDT, y, c('x1', 'x2')),
     data.table(y = c(0.06, 1.88, 1.59, 0.27, 1.99, 
                      0.71, 0.06, 0.49, 0.07, -1.84),
                l = c("|", "|", "|", "|", "|", "|", "|", "|", "|", "|"),
                V3 = c("x1:0.94000", "x1:1.74000", "x1:0.11000", 
                       "x1:-1.26000", "x1:0.46000", "x1:-0.93000",
                       "x1:1.62000", "x1:-1.28000", "x1:-0.65000", "x1:-2.22000"), 
                V4 = c("x2:0.74000", "x2:-0.98000", "x2:0.44000", 
                       "x2:-0.75000", "x2:0.07000", "x2:0.02000", 
                       "x2:-0.56000", "x2:-0.11000", "x2:-0.95000", "x2:-1.63000")))
#now testing it respects order of arguments
test('vw_dt.SIMPLE_OUTPUT.2', vw_dt(testDT, y, c('x2', 'x1')),
     data.table(y = c(0.06, 1.88, 1.59, 0.27, 1.99, 
                      0.71, 0.06, 0.49, 0.07, -1.84),
                l = c("|", "|", "|", "|", "|", "|", "|", "|", "|", "|"),
                V3 = c("x2:0.74000", "x2:-0.98000", "x2:0.44000", 
                       "x2:-0.75000", "x2:0.07000", "x2:0.02000", 
                       "x2:-0.56000", "x2:-0.11000", "x2:-0.95000", "x2:-1.63000"), 
                V4 = c("x1:0.94000", "x1:1.74000", "x1:0.11000", 
                       "x1:-1.26000", "x1:0.46000", "x1:-0.93000",
                       "x1:1.62000", "x1:-1.28000", "x1:-0.65000", "x1:-2.22000")))

boston = fread('boston_housing.csv')

